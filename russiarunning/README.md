RussiaRunning API Integration
–ú–æ–¥—É–ª—å –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π RussiaRunning.com —á–µ—Ä–µ–∑ API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.


üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
russia_running/
‚îú‚îÄ‚îÄ russia_running_api.py     # –û—Å–Ω–æ–≤–Ω–æ–π API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ check_session.py          # –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏  
‚îú‚îÄ‚îÄ rr_*******.json           # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è
‚îî‚îÄ‚îÄ .env                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

ENV
RR_USERNAME=your_russia_running_email
RR_PASSWORD=your_password

2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
python russia_running_api.py

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
python check_session.py

üîê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2FA
- Google Authenticator - 6-–∑–Ω–∞—á–Ω—ã–µ –∫–æ–¥—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ 2FA
- 3 –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ rr_********.json
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏

üìä API –º–µ—Ç–æ–¥—ã
–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
api = RussiaRunningAPI()

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
api.login(username, password)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
api.load_session()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
profile = api.get_profile()        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è
events = api.get_events()          # –°–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π
orders = api.get_orders()          # –ó–∞–∫–∞–∑—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤:
PYTHON
{
    'status': 'success',           # success/error
    'html_length': 12345,          # –î–ª–∏–Ω–∞ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    'url': 'https://...',          # URL –∑–∞–ø—Ä–æ—Å–∞
    'code': 200,                   # HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥
    'message': 'Error message'     # –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
}
üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:
PYTHON
from russia_running_api import RussiaRunningAPI

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
api = RussiaRunningAPI()

# –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ—Å—Å–∏–∏
if not api.load_session():
    # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    if not api.login():
        print("‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏")
        exit(1)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API –º–µ—Ç–æ–¥–æ–≤
if api.is_authenticated:
    profile = api.get_profile()
    events = api.get_events()
    orders = api.get_orders()

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º:
PYTHON
# –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –±–æ—Ç–∞
async def export_participants_command(message: Message):
    api = RussiaRunningAPI()
    
    if api.load_session() or api.login():
        # –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        participants = api.get_participants()
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
    else:
        await message.answer("‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ RussiaRunning")

üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏

–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:
python check_session.py

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:
TEXT
=== –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏ ===
‚úÖ –°–µ—Å—Å–∏—è –∞–∫—Ç–∏–≤–Ω–∞
   ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å: 200
   ‚úÖ –ó–∞–∫–∞–∑—ã: 200  
   ‚úÖ –°–æ–±—ã—Ç–∏—è: 200
–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
from check_session import quick_check
quick_check()

‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:
- –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
- –ò—Å—Ç–µ–∫—à–∞—è —Å–µ—Å—Å–∏—è - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –¢—Ä–µ–±—É–µ—Ç—Å—è 2FA - –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ Google Authenticator
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ - –ø–æ–¥–æ–∂–¥–∏—Ç–µ 5 –º–∏–Ω—É—Ç

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å–µ—Å—Å–∏—é –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö

üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–°—Ç–∞—Ç—É—Å—ã:
is_authenticated - –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
two_factor_required - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ 2FA
HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
–≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
PYTHON
from utils.rr_export_bot_friendly import rr_exporter

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –±–æ—Ç–∞
result = rr_exporter.export_participants_excel(otp_code)
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
PYTHON
from src.handlers.update_data import update_participants_data

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ RussiaRunning
success = update_participants_data()
–°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª—è: üü¢ –ê–∫—Ç–∏–≤–Ω—ã–π
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2FA: ‚úÖ –î–∞
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏: ‚úÖ –î–∞
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º: ‚úÖ –ü–æ–ª–Ω–∞—è