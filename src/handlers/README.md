Handlers Module - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram –±–æ—Ç–∞
–ú–æ–¥—É–ª—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è Telegram –±–æ—Ç–∞ Russia Running, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ª–æ–≥–∏–∫—É –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –∫–≤–µ—Å—Ç–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Å—ã–ª–∫–æ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
TEXT
src/handlers/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ start.py                    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
‚îú‚îÄ‚îÄ common_intro.py            # –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
‚îú‚îÄ‚îÄ quest.py                   # –ì–ª–∞–≤–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–≤–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ stage_1.py                 # –≠—Ç–∞–ø 1: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —à—Ç–∞–±–µ"
‚îú‚îÄ‚îÄ stage_2.py                 # –≠—Ç–∞–ø 2: "–ü—Ä–æ–≤–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–∏"
‚îú‚îÄ‚îÄ stage_3.py                 # –≠—Ç–∞–ø 3: "–û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç" (—Å AI –∞–Ω–∞–ª–∏–∑–æ–º)
‚îú‚îÄ‚îÄ stage_4.py                 # –≠—Ç–∞–ø 4: "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–π—Å"
‚îú‚îÄ‚îÄ stage_5.py                 # –ü–∞–∫–µ—Ç –Ω–∞ 4 —ç—Ç–∞–ø–∞
‚îú‚îÄ‚îÄ stage_management.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞–º–∏ (–æ–ø—É—â–µ–Ω–∞)
‚îú‚îÄ‚îÄ stage_content_management.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —ç—Ç–∞–ø–æ–≤ (–æ–ø—É—â–µ–Ω–∞)
‚îú‚îÄ‚îÄ link_generation.py         # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏
‚îú‚îÄ‚îÄ plan_link_generation.py    # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
‚îú‚îÄ‚îÄ mail_management.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–æ–π
‚îú‚îÄ‚îÄ participants_export.py     # –≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ RussiaRunning
‚îú‚îÄ‚îÄ login_pp.py               # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è RussiaRunning
‚îî‚îÄ‚îÄ update_data.py            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

üéÆ –≠—Ç–∞–ø—ã –∫–≤–µ—Å—Ç–∞

Stage 1: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —à—Ç–∞–±–µ"
- –ó–∞–≥–∞–¥–∫–∞: "–ú–∞—è–∫"
- –ü—Ä–æ–º–æ–∫–æ–¥: RUNNER2025
- –í–∏–¥–µ–æ: 1_logo.mp4 ‚Üí 2_logo.mp4 ‚Üí 3_logo.mp4
–õ–æ–≥–∏–∫–∞:
- AI –∞–Ω–∞–ª–∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø—Ä–æ–±–µ–∂–µ–∫
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü—É verification
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç—ã –∑–∞–±–µ–≥–∞ (–Ω–µ —Ä–∞–Ω–µ–µ 25.11.2025)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Stage 2 –¥–ª—è stage_5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

Stage 2: "–ü—Ä–æ–≤–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–∏"
- –ó–∞–≥–∞–¥–∫–∞: "–ö–æ–º–ø–∞—Å"
- –ü—Ä–æ–º–æ–∫–æ–¥: GUARDIAN2025
- –í–∏–¥–µ–æ: 1_logo.mp4 ‚Üí 4_logo.mp4 ‚Üí 5_logo.mp4
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–∂–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Stage 3 –¥–ª—è stage_5

Stage 3: "–û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç"
- –ó–∞–≥–∞–¥–∫–∞: "–ú–∞–≥–Ω–∏—Ç–æ—Ñ–æ–Ω"
- –ü—Ä–æ–º–æ–∫–æ–¥: SAVIOR2025
- –í–∏–¥–µ–æ: 1_logo.mp4 ‚Üí 6_logo.mp4 ‚Üí 7_logo.mp4
AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- Yandex Vision OCR –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
- YandexGPT –∞–≥–µ–Ω—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –∏ –¥–∞—Ç—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Stage 4 –¥–ª—è stage_5

Stage 4: "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–π—Å"
- –§–∏–Ω–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø —Å —Ä–µ–ª–∏–∫–≤–∏–µ–π "–õ–æ—à–∞–¥—å"
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–ª—è stage_5 - –ø–æ–ª–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

Stage 5: –ü–∞–∫–µ—Ç –Ω–∞ 4 —ç—Ç–∞–ø–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ current_stage
- –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- –ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤

üîó –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
BASH
/generate_all_links          # –†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
/get_links                  # –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏  
/get_link_stats             # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Å—ã–ª–æ–∫
/start_link_scheduler       # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
/stop_link_scheduler        # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
/link_scheduler_status      # –°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
/reset_mailing_dates        # –°–±—Ä–æ—Å –¥–∞—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

–õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª–∏–Ω–æ–π 16 —Å–∏–º–≤–æ–ª–æ–≤
–§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–æ–∫: https://t.me/{bot_username}?start={universal_link}
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–∞—Å—Å—ã–ª–∫–æ–π: –≥–æ—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ —Å—Ä–∞–∑—É –≤ –æ—á–µ—Ä–µ–¥—å

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
SQL
link_generation:
  participant_id, universal_link, status, creation_date, mailing_date, link_click_date

üìß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–æ–π
–ö–æ–º–∞–Ω–¥—ã:
BASH
/mail_status                # –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å—Å—ã–ª–∫–∏
/send_mail                  # –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞

–®–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º:

universal_link - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ —Å Telegram —Å—Å—ã–ª–∫–æ–π
completion - –ü–∏—Å—å–º–æ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫–≤–µ—Å—Ç–∞

–õ–æ–≥–∏–∫–∞ —Ä–∞—Å—Å—ã–ª–∫–∏:
–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º —Å–æ status=1
–ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ >20 —á–∞—Å–æ–≤ —Å mailing_date
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∫–∞

üîê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RussiaRunning
–ö–æ–º–∞–Ω–¥—ã:
BASH
/export_participants       # –≠–∫—Å–ø–æ—Ä—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
/session_status            # –°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 2FA —á–µ—Ä–µ–∑ Google Authenticator
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel —Å OTP –∫–æ–¥–æ–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ subprocess

ü§ñ AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
–ú–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤:
PYTHON
from deepseek_client.extract_with_yandexgpt_agent_fixed import extract_data_for_user

running_data = extract_data_for_user(image_path)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {'date': '08.11.2025', 'distance': '5.25 –∫–º'}

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
Yandex Vision OCR - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
YandexGPT –∞–≥–µ–Ω—Ç - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã (–Ω–µ —Ä–∞–Ω–µ–µ 25.11.2025)
–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–°–æ—Å—Ç–æ—è–Ω–∏—è (FSM):
PYTHON
class Stage1States(StatesGroup):
    waiting_for_image = State()
    waiting_for_riddle_answer = State()
–û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (common_intro.py):
get_common_intro() - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ
get_common_photo_request() - –∑–∞–ø—Ä–æ—Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
save_user_data_to_db() - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
update_user_stage_in_db() - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞
check_if_stage_5_user() - –ø—Ä–æ–≤–µ—Ä–∫–∞ stage_5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ì–ª–∞–≤–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (quest.py):
–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ stage_id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ó–∞–ø–∏—Å—å –Ω–∞—á–∞–ª–∞ –∫–≤–µ—Å—Ç–∞ –≤ –ë–î
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –¥–ª—è stage_5
–í—ã–±–æ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —ç—Ç–∞–ø–∞

üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
main - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞ (current_stage, quest_started)
manual_upload - –¥–∞–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (stage_id)
link_generation - —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
verification - –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–±–µ–∂–µ–∫
user_data - –¥–∞–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
stages - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–∞–ø–∞—Ö

üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- –ì—Ä–∞—Ü–∏–æ–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ–¥–∏–∞:
PYTHON
video = FSInputFile("media/1_logo.mp4")
await message.answer_video(video)

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏:
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
–†–∞—Å—Å—ã–ª–∫–∞ –ø–∏—Å–µ–º - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —ç—Ç–∞–ø–æ–≤

üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
PYTHON
from handlers import setup_quest_handler, setup_link_generation_handler

setup_quest_handler(dp, logger)
setup_link_generation_handler(dp, logger, bot_username)
–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —ç—Ç–∞–ø–∞:
PYTHON
async def handle_stage_1_quest(callback_query: CallbackQuery, state: FSMContext):
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    await state.update_data(telegram_id=callback_query.from_user.id)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ
    video = FSInputFile("media/1_logo.mp4")
    await callback_query.message.answer_video(video)
    
    # –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    await state.set_state(Stage1States.waiting_for_image)

üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ù–∞—á–∞–ª–æ –∫–≤–µ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –û—à–∏–±–∫–∏ AI –∞–Ω–∞–ª–∏–∑–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- –°—Ç–∞—Ç—É—Å—ã —Ä–∞—Å—Å—ã–ª–∫–∏ –ø–∏—Å–µ–º

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ —ç—Ç–∞–ø–∞–º
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Å—ã–ª–æ–∫
-  –î–∞–Ω–Ω—ã–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–±–µ–∂–µ–∫
- –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞

–°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª—è: üü¢ –ê–∫—Ç–∏–≤–Ω—ã–π
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ stage_5: ‚úÖ –ü–æ–ª–Ω–∞—è
AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RussiaRunning: ‚úÖ –ü–æ–ª–Ω–∞—è
